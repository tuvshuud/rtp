var usernameRegex = new RegExp('^[a-z0-9_-]{3,16}$','i');
      var passwordRegex = new RegExp('^[a-z0-9_-]{6,18}$', 'i');
      var nameRegex = new RegExp('^[a-zA-Z]{4,18}$', 'i');
      var socket = io.connect('http://localhost:80/admin');
      socket.on('status', function(msg){
      alert(msg);
      $('.top-left').notify({
      message: { text: msg }
      }).show();
      });
      socket.on('updateAdmin', function(data){
      if($('#admin-table tr').length>2)
      $('#admin-table').find("tr:gt(0):not(:last)").remove();
      $.each(data, function(index, value){
      $('#admin-table-header').after('<tr><td>'+value.username+'</td><td>'+value.password+'</td><td>[<a href=javascript:adminDelete(\''+value.username+'\')>??????</a>]</td></tr>');
	  });
  	  });
      socket.on('updateHost', function(data){
	  $.each(data, function(index, value){
	  $('#hostusername').val(value.username);
	  $('#hostpassword').val(value.password);
	  });
      });
      socket.on('updateUser', function(data){
      if($('#user-table tr').length>2)
      $('#user-table').find('tr:gt(0):not(:last)').remove();
      var i = 0;
      $.each(data, function(index, value){
      $('#user-table-header').after('<tr><td>' + i + '</td><td>' + value.firstname + '</td><td>' + value.lastname + '</td><td>' + value.username + '</td><td>' + value.lastname + '</td><td>[<a href="javascript:userDelete(\\'' + value.username + '\')">??????</a>]</td></tr>');
      i = i + 1;
      })
      });
      $(function () {
      $('#tabbable a').click(function (e) {
      e.preventDefault();
      $(this).tab('show');
      })
      $("#addAdmin").click(function(){
      uname = $("#adminusername").val();
      pwd = $("#adminpassword").val();
      if(usernameRegex.test(uname) && passwordRegex.test(pwd)){
      socket.emit('addAdmin',
      {
      username : uname,
      password : pwd,
      });
      }else{
      alert('???????? ????????? ??????? ??!');
      }
      });
      $("#addUser").click(function(){
      uname = $('#userusername').val();
      pwd = $('#userpassword').val();
      fname = $('#userfirstname').val();
      lname = $('#userlastname').val();
      if(usernameRegex.test(uname) && passwordRegex.test(pwd) && nameRegex.test(fname) && nameRegex.test(lname)){
      socket.emit('addUser',
      {
      username: uname,
      password: pwd,
      firstname: fname,
      lastname: lname,
      })
      }else{
      alert('???????? ????????? ??????? ??!');
      }
      });
      $("#actionHost").click(function(){
      uname = $("#hostusername").val();
      pwd = $("#hostpassword").val();
      if(usernameRegex.test(uname) && passwordRegex.test(pwd)){
      socket.emit('actionHost',
      {
      username : uname,
      password : pwd,
      });
      }else{
      alert('???????? ????????? ??????? ??!');
      }
      });
      })
      function adminDelete(data){
      socket.emit('deleteAdmin',
      {
      username : data,
      });
      }
      function userDelete(data){
      socket.emit('deleteUser',
      {
      username: data,
      })
      }